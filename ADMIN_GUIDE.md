# 管理员功能说明

## 🔐 管理员账号
- **用户名**: `admin`
- **密码**: `123456`
- **ID**: `0` (特殊管理员ID)

## 🚀 如何使用

### 1. 启动系统
```bash
# 启动后端
cd backend
npm install
npm run dev

# 启动前端（另一个终端）
cd frontend
npm install
npm run dev
```

### 2. 访问系统
- 前端地址: `http://localhost:5173`
- 后端API: `http://localhost:7001`

### 3. 管理员登录
1. 在登录页面输入管理员账号：`admin` / `123456`
2. 登录成功后会自动跳转到管理员后台

## 🛠️ 管理员功能

### 数据统计面板
- 总盲盒数量
- 总奖品数量
- 总用户数量
- 总收入统计

### 盲盒管理
- ✅ 查看所有盲盒
- ✅ 搜索盲盒（按名称和描述）
- ✅ 创建新盲盒
- ✅ 编辑盲盒信息
- ✅ 删除盲盒
- ✅ 设置盲盒价格、库存等

### 奖品管理
- ✅ 查看盲盒的所有奖品
- ✅ 添加新奖品
- ✅ 编辑奖品信息
- ✅ 删除奖品
- ✅ 设置中奖概率

## 🔧 技术实现

### 后端 (Node.js + Midway.js)
- 新增用户角色字段 `role`
- 创建管理员控制器 `AdminController`
- 实现权限验证中间件
- JWT token包含角色信息

### 前端 (React + Vite)
- 创建管理员后台组件 `AdminDashboard`
- 根据用户角色显示不同界面
- 实现搜索、CRUD操作
- 现代化的UI设计

## 📋 API 接口

### 管理员接口
- `GET /api/admin/stats` - 获取统计数据
- `GET /api/admin/blindboxes` - 获取盲盒列表
- `POST /api/admin/blindboxes` - 创建盲盒
- `PUT /api/admin/blindboxes/:id` - 更新盲盒
- `DELETE /api/admin/blindboxes/:id` - 删除盲盒
- `GET /api/admin/blindboxes/:id/prizes` - 获取奖品列表
- `POST /api/admin/prizes` - 创建奖品
- `PUT /api/admin/prizes/:id` - 更新奖品
- `DELETE /api/admin/prizes/:id` - 删除奖品

### 权限控制
- 所有管理员接口都需要携带JWT token
- 验证用户角色为 `admin`
- 普通用户无法访问管理员接口

## 🎯 用户体验

### 管理员登录后看到的界面
1. **顶部导航栏**: 显示欢迎信息和退出按钮
2. **侧边栏**: 数据统计、盲盒管理、奖品管理
3. **主要内容区**: 根据选择的菜单显示对应功能
4. **搜索功能**: 支持按名称搜索盲盒
5. **响应式设计**: 适配不同屏幕大小

### 普通用户
- 登录后看到的仍然是原来的用户界面
- 无法访问管理员功能

## 🔄 扩展功能建议

1. **数据持久化**: 将模拟数据替换为真实数据库操作
2. **图片上传**: 支持盲盒和奖品图片上传
3. **订单管理**: 添加用户订单查看和管理
4. **用户管理**: 管理员可以查看和管理用户
5. **数据导出**: 支持数据导出功能
6. **日志记录**: 记录管理员操作日志
